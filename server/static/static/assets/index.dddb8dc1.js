var Fe=Object.defineProperty;var oe=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var ae=(a,u,b)=>u in a?Fe(a,u,{enumerable:!0,configurable:!0,writable:!0,value:b}):a[u]=b,ee=(a,u)=>{for(var b in u||(u={}))he.call(u,b)&&ae(a,b,u[b]);if(oe)for(var b of oe(u))be.call(u,b)&&ae(a,b,u[b]);return a};import{d as te,c as le,t as se,L as de,h as _,i as v,j as S,k as e,w as l,q as t,F as o,Q,R as W,l as s,G as X,r as ve,v as m,X as ge,m as M,s as J,E as G,e as Ee,U as ne,W as we,a4 as ie,a5 as ye}from"./index.fc8fd637.js";import{r as R}from"./api.64328195.js";import{t as Be}from"./api.5d8c0e7b.js";import{m as Ce,_ as De}from"./TagSelect.abf2040a.js";import{R as Ae}from"./rsa.e47af793.js";import"./Api.6aea0f9f.js";import"./assert.d82c837d.js";const ke={class:"row"},Ve=t("span",{class:"title"},"redis_version(\u7248\u672C):",-1),Se={class:"value"},Ie={class:"row"},xe=t("span",{class:"title"},"tcp_port(\u7AEF\u53E3):",-1),Ue={class:"value"},qe={class:"row"},Te=t("span",{class:"title"},"redis_mode(\u6A21\u5F0F):",-1),Pe={class:"value"},Re={class:"row"},Me=t("span",{class:"title"},"os(\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF):",-1),$e={class:"value"},Le={class:"row"},Ne=t("span",{class:"title"},"uptime_in_days(\u8FD0\u884C\u5929\u6570):",-1),ze={class:"value"},je={class:"row"},Oe=t("span",{class:"title"},"executable(\u53EF\u6267\u884C\u6587\u4EF6\u8DEF\u5F84):",-1),He={class:"value"},Ke={class:"row"},Ge=t("span",{class:"title"},"config_file(\u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84):",-1),Qe={class:"value"},We={class:"row"},Xe=t("span",{class:"title"},"connected_clients(\u5DF2\u8FDE\u63A5\u5BA2\u6237\u7AEF\u6570):",-1),Je={class:"value"},Ye={class:"row"},Ze=t("span",{class:"title"},"blocked_clients(\u6B63\u5728\u7B49\u5F85\u963B\u585E\u547D\u4EE4\u5BA2\u6237\u7AEF\u6570):",-1),et={class:"value"},tt={class:"title"},lt={class:"value"},st={class:"row"},ut=t("span",{class:"title"},"total_commands_processed(\u603B\u5904\u7406\u547D\u4EE4\u6570):",-1),ot={class:"value"},at={class:"row"},nt=t("span",{class:"title"},"instantaneous_ops_per_sec(\u5F53\u524Dqps):",-1),it={class:"value"},dt={class:"row"},rt=t("span",{class:"title"},"total_net_input_bytes(\u7F51\u7EDC\u5165\u53E3\u6D41\u91CF\u5B57\u8282\u6570):",-1),ct={class:"value"},_t={class:"row"},pt=t("span",{class:"title"},"total_net_output_bytes(\u7F51\u7EDC\u51FA\u53E3\u6D41\u91CF\u5B57\u8282\u6570):",-1),mt={class:"value"},ft={class:"row"},Ft=t("span",{class:"title"},"expired_keys(\u8FC7\u671Fkey\u7684\u603B\u6570\u91CF):",-1),ht={class:"value"},bt={class:"row"},vt=t("span",{class:"title"},"instantaneous_ops_per_sec(\u5F53\u524Dqps):",-1),gt={class:"value"},Et={class:"row"},wt=t("span",{class:"title"},"aof_enabled(\u662F\u5426\u542F\u7528aof):",-1),yt={class:"value"},Bt={class:"row"},Ct=t("span",{class:"title"},"loading(\u662F\u5426\u6B63\u5728\u8F7D\u5165\u6301\u4E45\u5316\u6587\u4EF6):",-1),Dt={class:"value"},At={class:"row"},kt=t("span",{class:"title"},"cluster_enabled(\u662F\u5426\u542F\u7528\u96C6\u7FA4\u6A21\u5F0F):",-1),Vt={class:"value"},St={class:"row"},It=t("span",{class:"title"},"used_memory(\u5206\u914D\u5185\u5B58\u603B\u91CF):",-1),xt={class:"value"},Ut={class:"row"},qt=t("span",{class:"title"},"maxmemory(\u6700\u5927\u5185\u5B58\u914D\u7F6E):",-1),Tt={class:"value"},Pt={class:"row"},Rt=t("span",{class:"title"},"used_memory_rss(\u5DF2\u5206\u914D\u7684\u5185\u5B58\u603B\u91CF\uFF0C\u64CD\u4F5C\u7CFB\u7EDF\u89D2\u5EA6):",-1),Mt={class:"value"},$t={class:"row"},Lt=t("span",{class:"title"},"mem_fragmentation_ratio(used_memory_rss\u548Cused_memory \u4E4B\u95F4\u7684\u6BD4\u7387):",-1),Nt={class:"value"},zt={class:"row"},jt=t("span",{class:"title"},"used_memory_peak(\u5185\u5B58\u6D88\u8017\u5CF0\u503C):",-1),Ot={class:"value"},Ht={class:"row"},Kt=t("span",{class:"title"},"total_system_memory(\u4E3B\u673A\u603B\u5185\u5B58):",-1),Gt={class:"value"},Qt={class:"row"},Wt=t("span",{class:"title"},"used_cpu_sys(\u7531Redis\u670D\u52A1\u5668\u6D88\u8017\u7684\u7CFB\u7EDFCPU):",-1),Xt={class:"value"},Jt={class:"row"},Yt=t("span",{class:"title"},"used_cpu_user(\u7531Redis\u670D\u52A1\u5668\u6D88\u8017\u7684\u7528\u6237CPU):",-1),Zt={class:"value"},el={class:"row"},tl=t("span",{class:"title"},"used_cpu_sys_children(\u7531\u540E\u53F0\u8FDB\u7A0B\u6D88\u8017\u7684\u7CFB\u7EDFCPU):",-1),ll={class:"value"},sl={class:"row"},ul=t("span",{class:"title"},"used_cpu_user_children(\u7531\u540E\u53F0\u8FDB\u7A0B\u6D88\u8017\u7684\u7528\u6237CPU):",-1),ol={class:"value"},al=te({__name:"Info",props:{visible:{type:Boolean},title:{type:String},info:{type:[Boolean,Object]}},emits:["update:visible","close"],setup(a,{emit:u}){const b=a,U=le({dialogVisible:!1}),{dialogVisible:k}=se(U);de(()=>b.visible,g=>{U.dialogVisible=g});const f=()=>{u("update:visible",!1),u("close")};return(g,F)=>{const i=_("el-collapse-item"),B=_("el-collapse"),C=_("el-dialog");return v(),S("div",null,[e(C,{title:a.title,modelValue:s(k),"onUpdate:modelValue":F[0]||(F[0]=V=>X(k)?k.value=V:null),"show-close":!0,width:"35%",onClose:F[1]||(F[1]=V=>f())},{default:l(()=>[e(B,null,{default:l(()=>[e(i,{title:"Server(Redis\u670D\u52A1\u5668\u7684\u4E00\u822C\u4FE1\u606F)",name:"server"},{default:l(()=>[t("div",ke,[Ve,t("span",Se,o(a.info.Server.redis_version),1)]),t("div",Ie,[xe,t("span",Ue,o(a.info.Server.tcp_port),1)]),t("div",qe,[Te,t("span",Pe,o(a.info.Server.redis_mode),1)]),t("div",Re,[Me,t("span",$e,o(a.info.Server.os),1)]),t("div",Le,[Ne,t("span",ze,o(a.info.Server.uptime_in_days),1)]),t("div",je,[Oe,t("span",He,o(a.info.Server.executable),1)]),t("div",Ke,[Ge,t("span",Qe,o(a.info.Server.config_file),1)])]),_:1}),e(i,{title:"Clients(\u5BA2\u6237\u7AEF\u8FDE\u63A5)",name:"client"},{default:l(()=>[t("div",We,[Xe,t("span",Je,o(a.info.Clients.connected_clients),1)]),t("div",Ye,[Ze,t("span",et,o(a.info.Clients.blocked_clients),1)])]),_:1}),e(i,{title:"Keyspace(key\u4FE1\u606F)",name:"keyspace"},{default:l(()=>[(v(!0),S(Q,null,W(a.info.Keyspace,(V,q)=>(v(),S("div",{class:"row",key:q},[t("span",tt,o(q)+": ",1),t("span",lt,o(V),1)]))),128))]),_:1}),e(i,{title:"Stats(\u7EDF\u8BA1)",name:"state"},{default:l(()=>[t("div",st,[ut,t("span",ot,o(a.info.Stats.total_commands_processed),1)]),t("div",at,[nt,t("span",it,o(a.info.Stats.instantaneous_ops_per_sec),1)]),t("div",dt,[rt,t("span",ct,o(a.info.Stats.total_net_input_bytes),1)]),t("div",_t,[pt,t("span",mt,o(a.info.Stats.total_net_output_bytes),1)]),t("div",ft,[Ft,t("span",ht,o(a.info.Stats.expired_keys),1)]),t("div",bt,[vt,t("span",gt,o(a.info.Stats.instantaneous_ops_per_sec),1)])]),_:1}),e(i,{title:"Persistence(\u6301\u4E45\u5316)",name:"persistence"},{default:l(()=>[t("div",Et,[wt,t("span",yt,o(a.info.Persistence.aof_enabled),1)]),t("div",Bt,[Ct,t("span",Dt,o(a.info.Persistence.loading),1)])]),_:1}),e(i,{title:"Cluster(\u96C6\u7FA4)",name:"cluster"},{default:l(()=>[t("div",At,[kt,t("span",Vt,o(a.info.Cluster.cluster_enabled),1)])]),_:1}),e(i,{title:"Memory(\u5185\u5B58\u6D88\u8017\u76F8\u5173\u4FE1\u606F)",name:"memory"},{default:l(()=>[t("div",St,[It,t("span",xt,o(a.info.Memory.used_memory_human),1)]),t("div",Ut,[qt,t("span",Tt,o(a.info.Memory.maxmemory),1)]),t("div",Pt,[Rt,t("span",Mt,o(a.info.Memory.used_memory_rss_human),1)]),t("div",$t,[Lt,t("span",Nt,o(a.info.Memory.mem_fragmentation_ratio),1)]),t("div",zt,[jt,t("span",Ot,o(a.info.Memory.used_memory_peak_human),1)]),t("div",Ht,[Kt,t("span",Gt,o(a.info.Memory.total_system_memory_human),1)])]),_:1}),e(i,{title:"CPU",name:"cpu"},{default:l(()=>[t("div",Qt,[Wt,t("span",Xt,o(a.info.CPU.used_cpu_sys),1)]),t("div",Jt,[Yt,t("span",Zt,o(a.info.CPU.used_cpu_user),1)]),t("div",el,[tl,t("span",ll,o(a.info.CPU.used_cpu_sys_children),1)]),t("div",sl,[ul,t("span",ol,o(a.info.CPU.used_cpu_user_children),1)])]),_:1})]),_:1})]),_:1},8,["title","modelValue"])])}}}),nl={class:"dialog-footer"},il=te({__name:"RedisEdit",props:{visible:{type:Boolean},redis:{type:[Boolean,Object]},title:{type:String}},emits:["update:visible","val-change","cancel"],setup(a,{emit:u}){const b=a,U={projectId:[{required:!0,message:"\u8BF7\u9009\u62E9\u9879\u76EE",trigger:["change","blur"]}],envId:[{required:!0,message:"\u8BF7\u9009\u62E9\u73AF\u5883",trigger:["change","blur"]}],host:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E3B\u673Aip:port",trigger:["change","blur"]}],db:[{required:!0,message:"\u8BF7\u9009\u62E9\u5E93\u53F7",trigger:["change","blur"]}],mode:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u5F0F",trigger:["change","blur"]}]},k=ve(null),f=le({dialogVisible:!1,sshTunnelMachineList:[],form:{id:null,tagId:null,tagPath:null,name:null,mode:"standalone",host:"",password:null,db:"",project:null,projectId:null,envId:null,env:null,remark:"",enableSshTunnel:null,sshTunnelMachineId:null},dbList:[0],pwd:"",btnLoading:!1}),{dialogVisible:g,sshTunnelMachineList:F,form:i,dbList:B,pwd:C,btnLoading:V}=se(f);de(b,async E=>{f.dialogVisible=E.visible,f.dialogVisible&&(E.redis?(f.form=ee({},E.redis),q(f.form.db)):(f.form={db:"0",enableSshTunnel:-1},f.dbList=[]),N())});const q=E=>{f.dbList=E.split(",").map(d=>Number.parseInt(d))},Y=()=>{f.form.db=f.dbList.length==0?"":f.dbList.join(",")},N=async()=>{if(f.form.enableSshTunnel==1&&f.sshTunnelMachineList.length==0){const E=await Ce.list.request({pageNum:1,pageSize:100});f.sshTunnelMachineList=E.list}},z=async()=>{f.pwd=await R.getRedisPwd.request({id:f.form.id})},Z=async()=>{k.value.validate(async E=>{if(E){const d=ee({},f.form);if(d.mode=="sentinel"&&d.host.split("=").length!=2){G.error("sentinel\u6A21\u5F0Fhost\u9700\u4E3A: mastername=sentinelhost:sentinelport\u6A21\u5F0F");return}d.password=await Ae(d.password),R.saveRedis.request(d).then(()=>{G.success("\u4FDD\u5B58\u6210\u529F"),u("val-change",f.form),f.btnLoading=!0,setTimeout(()=>{f.btnLoading=!1},1e3),A()})}else return G.error("\u8BF7\u6B63\u786E\u586B\u5199\u4FE1\u606F"),!1})},A=()=>{u("update:visible",!1),u("cancel")};return(E,d)=>{const D=_("el-form-item"),T=_("el-input"),p=_("el-option"),c=_("el-select"),w=_("el-link"),$=_("el-popover"),j=_("el-checkbox"),I=_("el-col"),h=_("el-form"),x=_("el-button"),L=_("el-dialog");return v(),S("div",null,[e(L,{title:a.title,modelValue:s(g),"onUpdate:modelValue":d[12]||(d[12]=r=>X(g)?g.value=r:null),"before-close":A,"close-on-click-modal":!1,"destroy-on-close":!0,width:"38%"},{footer:l(()=>[t("div",nl,[e(x,{onClick:d[11]||(d[11]=r=>A())},{default:l(()=>[m("\u53D6 \u6D88")]),_:1}),e(x,{type:"primary",loading:s(V),onClick:Z},{default:l(()=>[m("\u786E \u5B9A")]),_:1},8,["loading"])])]),default:l(()=>[e(h,{model:s(i),ref_key:"redisForm",ref:k,rules:U,"label-width":"85px"},{default:l(()=>[e(D,{prop:"tagId",label:"\u6807\u7B7E:",required:""},{default:l(()=>[e(De,{"tag-id":s(i).tagId,"onUpdate:tag-id":d[0]||(d[0]=r=>s(i).tagId=r),"tag-path":s(i).tagPath,"onUpdate:tag-path":d[1]||(d[1]=r=>s(i).tagPath=r),style:{width:"100%"}},null,8,["tag-id","tag-path"])]),_:1}),e(D,{prop:"name",label:"\u540D\u79F0:",required:""},{default:l(()=>[e(T,{modelValue:s(i).name,"onUpdate:modelValue":d[2]||(d[2]=r=>s(i).name=r),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165redis\u540D\u79F0","auto-complete":"off"},null,8,["modelValue"])]),_:1}),e(D,{prop:"mode",label:"mode:",required:""},{default:l(()=>[e(c,{style:{width:"100%"},modelValue:s(i).mode,"onUpdate:modelValue":d[3]||(d[3]=r=>s(i).mode=r),placeholder:"\u8BF7\u9009\u62E9\u6A21\u5F0F"},{default:l(()=>[e(p,{label:"standalone",value:"standalone"}),e(p,{label:"cluster",value:"cluster"}),e(p,{label:"sentinel",value:"sentinel"})]),_:1},8,["modelValue"])]),_:1}),e(D,{prop:"host",label:"host:",required:""},{default:l(()=>[e(T,{modelValue:s(i).host,"onUpdate:modelValue":d[4]||(d[4]=r=>s(i).host=r),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165host:port\uFF1Bsentinel\u6A21\u5F0F\u4E3A: mastername=sentinelhost:port\uFF0C\u82E5\u96C6\u7FA4\u6216\u54E8\u5175\u9700\u8BBE\u591A\u4E2A\u8282\u70B9\u53EF\u4F7F\u7528','\u5206\u5272","auto-complete":"off",type:"textarea"},null,8,["modelValue"])]),_:1}),e(D,{prop:"password",label:"\u5BC6\u7801:"},{default:l(()=>[e(T,{type:"password","show-password":"",modelValue:s(i).password,"onUpdate:modelValue":d[6]||(d[6]=r=>s(i).password=r),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801, \u4FEE\u6539\u64CD\u4F5C\u53EF\u4E0D\u586B",autocomplete:"new-password"},ge({_:2},[s(i).id&&s(i).id!=0?{name:"suffix",fn:l(()=>[e($,{onHide:d[5]||(d[5]=r=>C.value=""),placement:"right",title:"\u539F\u5BC6\u7801",width:200,trigger:"click",content:s(C)},{reference:l(()=>[e(w,{onClick:z,underline:!1,type:"primary",class:"mr5"},{default:l(()=>[m("\u539F\u5BC6\u7801")]),_:1})]),_:1},8,["content"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),e(D,{prop:"db",label:"\u5E93\u53F7:",required:""},{default:l(()=>[e(c,{onChange:Y,modelValue:s(B),"onUpdate:modelValue":d[7]||(d[7]=r=>X(B)?B.value=r:null),multiple:"","allow-create":"",filterable:"",placeholder:"\u8BF7\u9009\u62E9\u53EF\u64CD\u4F5C\u5E93\u53F7",style:{width:"100%"}},{default:l(()=>[(v(),S(Q,null,W([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],r=>e(p,{key:r,label:r,value:r},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(D,{prop:"remark",label:"\u5907\u6CE8:"},{default:l(()=>[e(T,{modelValue:s(i).remark,"onUpdate:modelValue":d[8]||(d[8]=r=>s(i).remark=r),modelModifiers:{trim:!0},"auto-complete":"off",type:"textarea"},null,8,["modelValue"])]),_:1}),e(D,{prop:"enableSshTunnel",label:"SSH\u96A7\u9053:"},{default:l(()=>[e(I,{span:3},{default:l(()=>[e(j,{onChange:N,modelValue:s(i).enableSshTunnel,"onUpdate:modelValue":d[9]||(d[9]=r=>s(i).enableSshTunnel=r),"true-label":1,"false-label":-1},null,8,["modelValue"])]),_:1}),s(i).enableSshTunnel==1?(v(),M(I,{key:0,span:2},{default:l(()=>[m(" \u673A\u5668: ")]),_:1})):J("",!0),s(i).enableSshTunnel==1?(v(),M(I,{key:1,span:19},{default:l(()=>[e(c,{style:{width:"100%"},modelValue:s(i).sshTunnelMachineId,"onUpdate:modelValue":d[10]||(d[10]=r=>s(i).sshTunnelMachineId=r),placeholder:"\u8BF7\u9009\u62E9SSH\u96A7\u9053\u673A\u5668"},{default:l(()=>[(v(!0),S(Q,null,W(s(F),r=>(v(),M(p,{key:r.id,label:`${r.ip}:${r.port} [${r.name}]`,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):J("",!0)]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}}),dl={style:{float:"right"}},rl=t("i",null,null,-1),cl=te({__name:"RedisList",setup(a){const u=le({tags:[],redisTable:[],total:0,currentId:null,currentData:null,query:{tagPath:null,pageNum:1,pageSize:10,clusterId:null},detailDialog:{visible:!1,data:null},clusterInfoDialog:{visible:!1,redisId:0,info:"",nodes:[]},infoDialog:{title:"",visible:!1,info:{Server:{},Keyspace:{},Clients:{},CPU:{},Memory:{}}},redisEditDialog:{visible:!1,data:null,title:"\u65B0\u589Eredis"}}),{tags:b,redisTable:U,total:k,currentId:f,query:g,detailDialog:F,clusterInfoDialog:i,infoDialog:B,redisEditDialog:C}=se(u);Ee(async()=>{A()});const V=p=>{u.query.pageNum=p,A()},q=p=>{u.detailDialog.data=p,u.detailDialog.visible=!0},Y=p=>{!p||(u.currentId=p.id,u.currentData=p)},N=async()=>{try{await we.confirm("\u786E\u5B9A\u5220\u9664\u8BE5redis?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}),await R.delRedis.request({id:u.currentId}),G.success("\u5220\u9664\u6210\u529F"),u.currentData=null,u.currentId=null,A()}catch{}},z=async p=>{var c=p.host;p.ip&&(c=p.ip.split("@")[0]);const w=await R.redisInfo.request({id:p.id,host:c});u.infoDialog.info=w,u.infoDialog.title=`'${c}' info`,u.infoDialog.visible=!0},Z=async p=>{const c=await R.clusterInfo.request({id:p.id});u.clusterInfoDialog.info=c.clusterInfo,u.clusterInfoDialog.nodes=c.clusterNodes,u.clusterInfoDialog.redisId=p.id,u.clusterInfoDialog.visible=!0},A=async()=>{const p=await R.redisList.request(u.query);u.redisTable=p.list,u.total=p.total},E=async()=>{u.tags=await Be.getAccountTags.request(null)},d=async(p=!1)=>{p?(u.redisEditDialog.data=null,u.redisEditDialog.title="\u65B0\u589Eredis"):(u.redisEditDialog.data=u.currentData,u.redisEditDialog.title="\u4FEE\u6539redis"),u.redisEditDialog.visible=!0},D=()=>{u.currentId=null,u.currentData=null,A()},T=p=>{const{tagPath:c,id:w,db:$}=p;if(ie.state.redisDbOptInfo.dbOptInfo.dbId!==w){let I={tagPath:c,dbId:w,db:$};ie.dispatch("redisDbOptInfo/setRedisDbOptInfo",I)}ye.push({name:"DataOperation"})};return(p,c)=>{const w=_("el-button"),$=_("el-option"),j=_("el-select"),I=_("el-radio"),h=_("el-table-column"),x=_("el-link"),L=_("el-divider"),r=_("el-table"),re=_("el-pagination"),ce=_("el-row"),_e=_("el-card"),pe=_("el-input"),O=_("question-filled"),H=_("el-icon"),K=_("el-tooltip"),me=_("el-tag"),ue=_("el-dialog"),y=_("el-descriptions-item"),fe=_("el-descriptions");return v(),S("div",null,[e(_e,null,{default:l(()=>[e(w,{type:"primary",icon:"plus",onClick:c[0]||(c[0]=n=>d(!0)),plain:""},{default:l(()=>[m("\u6DFB\u52A0")]),_:1}),e(w,{type:"primary",icon:"edit",disabled:s(f)==null,onClick:c[1]||(c[1]=n=>d(!1)),plain:""},{default:l(()=>[m("\u7F16\u8F91 ")]),_:1},8,["disabled"]),e(w,{type:"danger",icon:"delete",disabled:s(f)==null,onClick:N,plain:""},{default:l(()=>[m("\u5220\u9664 ")]),_:1},8,["disabled"]),t("div",dl,[e(j,{onFocus:E,modelValue:s(g).tagPath,"onUpdate:modelValue":c[2]||(c[2]=n=>s(g).tagPath=n),placeholder:"\u8BF7\u9009\u62E9\u6807\u7B7E",filterable:"",clearable:""},{default:l(()=>[(v(!0),S(Q,null,W(s(b),n=>(v(),M($,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(w,{class:"ml5",onClick:A,type:"success",icon:"search"})]),e(r,{data:s(U),onCurrentChange:Y,stripe:""},{default:l(()=>[e(h,{label:"\u9009\u62E9",width:"60px"},{default:l(n=>[e(I,{modelValue:s(f),"onUpdate:modelValue":c[3]||(c[3]=P=>X(f)?f.value=P:null),label:n.row.id},{default:l(()=>[rl]),_:2},1032,["modelValue","label"])]),_:1}),e(h,{prop:"tagPath",label:"\u6807\u7B7E\u8DEF\u5F84","min-width":"150","show-overflow-tooltip":""}),e(h,{prop:"name",label:"\u540D\u79F0","min-width":"100"}),e(h,{prop:"host",label:"host:port","min-width":"150","show-overflow-tooltip":""}),e(h,{prop:"mode",label:"mode","min-width":"100"}),e(h,{prop:"remark",label:"\u5907\u6CE8","min-width":"120","show-overflow-tooltip":""}),e(h,{label:"\u66F4\u591A","min-width":"155",fixed:"right"},{default:l(n=>[e(x,{onClick:P=>q(n.row),underline:!1},{default:l(()=>[m("\u8BE6\u60C5")]),_:2},1032,["onClick"]),e(L,{direction:"vertical","border-style":"dashed"}),n.row.mode==="standalone"||n.row.mode==="sentinel"?(v(),M(x,{key:0,type:"primary",onClick:P=>z(n.row),underline:!1},{default:l(()=>[m("\u5355\u673A\u4FE1\u606F")]),_:2},1032,["onClick"])):J("",!0),n.row.mode==="cluster"?(v(),M(x,{key:1,onClick:P=>Z(n.row),type:"primary",underline:!1},{default:l(()=>[m("\u96C6\u7FA4\u4FE1\u606F")]),_:2},1032,["onClick"])):J("",!0),e(L,{direction:"vertical","border-style":"dashed"}),e(x,{onClick:P=>T(n.row),type:"success",underline:!1},{default:l(()=>[m("\u6570\u636E\u64CD\u4F5C")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(ce,{style:{"margin-top":"20px"},type:"flex",justify:"end"},{default:l(()=>[e(re,{style:{"text-align":"right"},onCurrentChange:V,total:s(k),layout:"prev, pager, next, total, jumper","current-page":s(g).pageNum,"onUpdate:current-page":c[4]||(c[4]=n=>s(g).pageNum=n),"page-size":s(g).pageSize},null,8,["total","current-page","page-size"])]),_:1})]),_:1}),e(al,{visible:s(B).visible,"onUpdate:visible":c[5]||(c[5]=n=>s(B).visible=n),title:s(B).title,info:s(B).info},null,8,["visible","title","info"]),e(ue,{width:"1000px",title:"\u96C6\u7FA4\u4FE1\u606F",modelValue:s(i).visible,"onUpdate:modelValue":c[7]||(c[7]=n=>s(i).visible=n)},{default:l(()=>[e(pe,{type:"textarea",autosize:{minRows:12,maxRows:12},modelValue:s(i).info,"onUpdate:modelValue":c[6]||(c[6]=n=>s(i).info=n)},null,8,["modelValue"]),e(L,{"content-position":"left"},{default:l(()=>[m("\u8282\u70B9\u4FE1\u606F")]),_:1}),e(r,{data:s(i).nodes,stripe:"",size:"small",border:""},{default:l(()=>[e(h,{prop:"nodeId",label:"nodeId","min-width":"300"},{header:l(()=>[m(" nodeId "),e(K,{class:"box-item",effect:"dark",content:"\u8282\u70B9id",placement:"top"},{default:l(()=>[e(H,null,{default:l(()=>[e(O)]),_:1})]),_:1})]),_:1}),e(h,{prop:"ip",label:"ip","min-width":"180"},{header:l(()=>[m(" ip "),e(K,{class:"box-item",effect:"dark",content:"ip:port1@port2\uFF1Aport1\u6307redis\u670D\u52A1\u5668\u4E0E\u5BA2\u6237\u7AEF\u901A\u4FE1\u7684\u7AEF\u53E3\uFF0Cport2\u5219\u662F\u96C6\u7FA4\u5185\u90E8\u8282\u70B9\u95F4\u901A\u4FE1\u7684\u7AEF\u53E3",placement:"top"},{default:l(()=>[e(H,null,{default:l(()=>[e(O)]),_:1})]),_:1})]),default:l(n=>[e(me,{onClick:P=>z({id:s(i).redisId,ip:n.row.ip}),effect:"plain",type:"success",size:"small",style:{cursor:"pointer"}},{default:l(()=>[m(o(n.row.ip),1)]),_:2},1032,["onClick"])]),_:1}),e(h,{prop:"flags",label:"flags","min-width":"110"}),e(h,{prop:"masterSlaveRelation",label:"masterSlaveRelation","min-width":"300"},{header:l(()=>[m(" masterSlaveRelation "),e(K,{class:"box-item",effect:"dark",content:"\u5982\u679C\u8282\u70B9\u662Fslave\uFF0C\u5E76\u4E14\u5DF2\u77E5master\u8282\u70B9\uFF0C\u5219\u4E3Amaster\u8282\u70B9ID\uFF1B\u5426\u5219\u4E3A\u7B26\u53F7'-'",placement:"top"},{default:l(()=>[e(H,null,{default:l(()=>[e(O)]),_:1})]),_:1})]),_:1}),e(h,{prop:"pingSent",label:"pingSent","min-width":"130","show-overflow-tooltip":""},{default:l(n=>[m(o(n.row.pingSent==0?0:new Date(parseInt(n.row.pingSent)).toLocaleString()),1)]),_:1}),e(h,{prop:"pongRecv",label:"pongRecv","min-width":"130","show-overflow-tooltip":""},{default:l(n=>[m(o(n.row.pongRecv==0?0:new Date(parseInt(n.row.pongRecv)).toLocaleString()),1)]),_:1}),e(h,{prop:"configEpoch",label:"configEpoch","min-width":"130"},{header:l(()=>[m(" configEpoch "),e(K,{class:"box-item",effect:"dark",content:"\u8282\u70B9\u7684epoch\u503C\uFF08\u5982\u679C\u8BE5\u8282\u70B9\u662F\u4ECE\u8282\u70B9\uFF0C\u5219\u4E3A\u5176\u4E3B\u8282\u70B9\u7684epoch\u503C\uFF09\u3002\u6BCF\u5F53\u8282\u70B9\u53D1\u751F\u5931\u8D25\u5207\u6362\u65F6\uFF0C\u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\uFF0C\u72EC\u7279\u7684\uFF0C\u9012\u589E\u7684epoch\u3002",placement:"top"},{default:l(()=>[e(H,null,{default:l(()=>[e(O)]),_:1})]),_:1})]),_:1}),e(h,{prop:"linkState",label:"linkState","min-width":"100"}),e(h,{prop:"slot",label:"slot","min-width":"100"})]),_:1},8,["data"])]),_:1},8,["modelValue"]),e(ue,{modelValue:s(F).visible,"onUpdate:modelValue":c[8]||(c[8]=n=>s(F).visible=n)},{default:l(()=>[e(fe,{title:"\u8BE6\u60C5",column:3,border:""},{default:l(()=>[e(y,{span:1.5,label:"id"},{default:l(()=>[m(o(s(F).data.id),1)]),_:1},8,["span"]),e(y,{span:1.5,label:"\u540D\u79F0"},{default:l(()=>[m(o(s(F).data.name),1)]),_:1},8,["span"]),e(y,{span:3,label:"\u6807\u7B7E\u8DEF\u5F84"},{default:l(()=>[m(o(s(F).data.tagPath),1)]),_:1}),e(y,{span:3,label:"\u4E3B\u673A"},{default:l(()=>[m(o(s(F).data.host),1)]),_:1}),e(y,{span:3,label:"\u5E93"},{default:l(()=>[m(o(s(F).data.db),1)]),_:1}),e(y,{span:3,label:"\u5907\u6CE8"},{default:l(()=>[m(o(s(F).data.remark),1)]),_:1}),e(y,{span:3,label:"SSH\u96A7\u9053"},{default:l(()=>[m(o(s(F).data.enableSshTunnel==1?"\u662F":"\u5426"),1)]),_:1}),e(y,{span:2,label:"\u521B\u5EFA\u65F6\u95F4"},{default:l(()=>[m(o(s(ne)(s(F).data.createTime)),1)]),_:1}),e(y,{span:1,label:"\u521B\u5EFA\u8005"},{default:l(()=>[m(o(s(F).data.creator),1)]),_:1}),e(y,{span:2,label:"\u66F4\u65B0\u65F6\u95F4"},{default:l(()=>[m(o(s(ne)(s(F).data.updateTime)),1)]),_:1}),e(y,{span:1,label:"\u4FEE\u6539\u8005"},{default:l(()=>[m(o(s(F).data.modifier),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(il,{onValChange:D,tags:s(b),title:s(C).title,visible:s(C).visible,"onUpdate:visible":c[9]||(c[9]=n=>s(C).visible=n),redis:s(C).data,"onUpdate:redis":c[10]||(c[10]=n=>s(C).data=n)},null,8,["tags","title","visible","redis"])])}}});var gl=cl;export{gl as default};
